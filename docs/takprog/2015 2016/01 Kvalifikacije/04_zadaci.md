# Краљ Артур

Аутор: Андреј Ивашковић
Текст и тест примери: Андреј Ивашковић
Анализа решења: Марко Илић
Тестирање: Драган Урошевић

### Решење за $1\le N\le 15$ и $1\le Q\le 1000$:
У овом подзадатку можемо проћи кроз свих $2^N - 1$ такмичења и за свако одредити тежину најтежег задатка. За сваку тежину задатка $x$, бројаћемо у колико такмичења је најтежи задатак те тежине. На крају, за сваки упит само треба исписати вредност одговарајућег бројача. За бројач можемо користити неки вид хеш мапе, нпр. *map* у *C++*. Временска сложеност: $О(2^N \cdot N \cdot logN + Q \cdot logN)$. Mеморијска сложеност: $О(N)$. 

### Решење када тежине задатака нису веће од $10^6$:
Нека нам $cnt_x$ представља број задатака који су тежине $x$ и нека је $prefix_x$ број задатака којима је тежина мања или једнака $x$. Низ $prefix$ ћемо добити користећи рекурентну формулу $prefix_x = prefix_{x-1} + cnt_x$. Тада је број такмичења у којима је најтежи задатак тежине $x$ једнак $(2^{cnt_x} - 1) \cdot 2^ {prefix_{x-1}}$. Први умножак представља број начина да изаберемо задатке тежине $x$, а други на колико начина можемо одабрати лакше задатке. Такође, израчунаћемо унапред степене двојке по модулу $10^9 + 7$. Временска сложеност: $O(maxa_i + Q)$, меморијска сложеност: $O(max a_i + N)$, где је $a$ низ тежина задатака.

### Решење за $1 \le N \le 5000$ и $1 \le Q \le 5000$:
За сваки упит можемо проћи кроз низ и избројати колико имамо задатака који одговарају да буду најтежи и колико имамо лакших задатака. Нека су редом те вредности $x$ и $y$. Слично као у претходном подзадатку, тада је број одговарајућих такмичења једнак $(2^x-1) \cdot 2^y$. Временска сложеност: $O(N \cdot Q)$. Меморијска сложеност: $O(N)$. 

### Главно решење:
Можемо сортирати низ по тежинама задатака неопадајуће. Сада, за сваки упит, бинарном претрагом ћемо наћи број задатака тежине $x$ и број задатака лакших од $x$. Потребно је имплементирати бинарну претрагу која за вредност $x$ враћа колико је задатака тежине мање или једнаке $x$, преко тога можемо наћи остале информације. Временска сложеност: $O(NlogN + QlogN)$. Меморијска сложеност: $O(N)$.
Такође, за $100$ поена можемо користити и неку структуру података којом ћемо бројати понављања сваке тежине задатка и која нам омогућава да итерирамо по задацима у растућем поретку по тежини (нпр. *map* у *C++*).
