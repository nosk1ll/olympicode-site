## Анализа

Овај проблем се може решити применом бектрека (backtracking). Али да би се бектрек убрзао (тј. био ефикаснији), на почетку се уради препроцесирање у коме се за свако поље на коме се налаѕи коцкица одреди колико у његовом суседству има слободних поља или поља на која је већ постављен топ и ако се тај број поклапа са бројем на коцкици, онда се и на преостала слободна поља поставе топови. При постављању топова маркирају се сва слободна поља до којих може стићи тај топ (то ће нам касније омогућити ефикасну проверу да ли до сваког слободног поља може стићи неки топ). Након тога се провери да ли постоји поље на коме се налази коцкица такво да је број суседних поља која су слободна или се на њима налази топ мањи од броја на коцкици. Ако такво поље постоји онда није могуће распоредити топове на ту таблу тако да задовољавају сва ограничења, исписује број $-1$ и прекида извршавање програма.
После ове припремне фазе започиње се распоређивање преосталих топова. То се изводи тако што се обрађује једно по једно поље табле (на пример, врста по врста). Обрада наредног поља се обавља позивом функције, која као аргументе добија врсту и колону у којој се налази то поље, а као резултат враћа информацију да ли је остатак табле успешно обрађен/попуњен. Ако је поље које тренутно обрађујемо заузето или се на њега не може поставити топ зато што би онда око неке коцкице било превише топова, прелази се на следеће поље (тј. позива функција за обраду следећег поља). У супротном се за то поље пробају две варијанте. Прва варијанта је да се на то поље постави топ, маркирају поља до којих може стићи тај топ и настави са обрадом следећег поља на табли. Та обрада се обавља тако што се рекурзивно позива функција за обраду поља која као аргументе добија координате (врсту и колону) поља које се обрађује. Ако је остатак табле успешно попуњен, друга варијанта се не разматра већ се прекида извршавање и враћа информација да је успешно попуњена табла. У супротном, ако остатак табле није успешно попуњен, разматра се друга варијанта, у којој се на то поље не распоређује топ, већ се прелази на наредно поље табле, тј. рекурзивно позива  функција за решавање следећег поља. Ако се решавање остатка табле успешно заврши, онда функција враћа информацију да је остатак табле успешно решен, у супротном, враћа информацију да остатак табле није успешно решен. 
Када се обраде сва поља табле, тј. позове функција за обраду поља које се налаи врсти број $M+1$ и колони број $1$, проверава се да ли је попуњавање коректно/исправно: број топова око сваке коцкице се поклапа са бројем на коцкици и до сваког слободног поља може стићи неки од топова. Ако је попуњавање табле исправно функција враћа информацију да је табла попуњена исправно, у супротном, враћа информацију да табла није успешно попуњена. 
Да би се додтно убрзао поступак, може се при сваком позиву функције за обраду поља проверавати да ли постоји коцкица таква да је збир броја постављених топова на суседним пољима и броја слободних суседних поља мањи од броја на коцкици. Ако таква коцкица постоји, није могуће распоредити топове према захтевима, па се прекида обрада тог поља и враћа назад (тј. на обраду претходног поља).
 