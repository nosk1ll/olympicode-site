# Апсолутно број

Аутор: Димитрије Димић
Текст и тест примери: Марко Баковић
Анализа решења: Урош Вукићевић
Тестирање: Петар Величковић

### Решење за $1 \leq N \leq 10^3$ и $|A_i|, |B_i| \leq 10^3$:
Ограничење за $N$ је довољно мало да симулирамо процес из текста задатка, постојаће $N$ ротација, а за сваку ротацију имамо $N$ рачунања, па је крајња временска сложеност $O(N^2)$. Меморијска сложеност: $O(N)$. 

### Решење за $A_i, B_i \in \{0, 1\}$:
Са обзиром да ће сваки елемент у неком тренутку бити на свакој од позиција у низу укупна сума ће заправо бити $\sum_{i=1}^{n}\sum_{j=1}^{n}|A_i-B_j|$, односно, тражи нам се збир апсолутних разлика сваког елемента низа $A$ са сваким елементом низа $B$. Из ове суме се види да сваки елемент можемо да гледамо засебно.  
Свака јединица из низа $A$ даје апсолутну разлику $1$ са свим нулама из низа $B$, док свака нула из низа $A$ даје апсолутно разлику $1$ са свим јединицама из низа $B$. Све остале апсолутне разлике износе $0$. Самим тим, крајњи резултат је $cntA_0\cdot cntB_1 + cntA_1\cdot cntB_0$, где је нпр. $cntA_0$ број нула у низу $A$. Временска сложеност: $O(N)$, меморијска сложеност: $O(1)$. 

### Главно решење:
Применимо исту суму из претходног решења, само је сада компликованије да је израчунамо. Након што сортирамо низ $B$, за сваки елемент $A_i$ могли бисмо да раздвојимо низ $B$ усправном линијом, где би нам са десне стране те линије сви елементи били већи од $A_i$ (ако их има), док би нам са леве стране били сви елементи мањи или једнаки од $A_i$ (ако их има). То би значило да би све апсолутне разлике са леве стране биле $A_i-B_j$, док би са десне стране биле $B_j-A_i$. Линију можемо пронаћи помоћу бинарне претраге, а суму са леве и десне стране линије уз помоћ префиксних сума. Након тога, за дато $A_i$, резултат је $(brojLevo\cdot A_i - sumaLevo) + (sumaDesno - brojDesno\cdot A_i)$. Временска сложеност: $О(NlogN)$, меморијска сложеност: $О(N)$.

